@model IEnumerable<sql_exercise_scoring.Models.Coder>

@{
    ViewBag.Title = "Danh sách Coder";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
<div class="col-lg-12 stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title">Danh sách Coder</h4>

            <div class="search-field d-none d-md-block mb-3">
                <form class="d-flex align-items-center h-100" action="#">
                    <div class="input-group">
                        <div class="input-group-prepend bg-transparent">
                            <i class="input-group-text border-0 mdi mdi-magnify"></i>
                        </div>
                        <input type="text" class="form-control bg-transparent border-0" placeholder="Search projects">
                    </div>
                </form>
            </div>

            <table class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th> # </th>
                        <th> Coder Name </th>
                        <th> Email </th>
                        <th> Avatar </th>
                        <th> Admin </th>
                        <th> Register Date </th>
                        <th> Gender </th>
                        <th> Actions </th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Any())
                    {
                        int index = 1;
                        foreach (var coder in Model)
                        {
                            <tr onclick="window.location.href='@Url.Action("DetailOrUpdate", "CodersAdmin", new { area = "Admin", id = coder.CoderId })';">
                                <td> @index </td>
                                <td> @coder.CoderName </td>
                                <td> @coder.CoderEmail </td>
                                <td>
                                    @if (!string.IsNullOrEmpty(coder.CoderAvatar))
                                    {
                                        <img src="@coder.CoderAvatar" alt="Avatar" style="width: 50px; height: 50px;" />
                                    }
                                    else
                                    {
                                        <span>No Avatar</span>
                                    }
                                </td>
                                <td> @(coder.AdminCoder ? "Yes" : "No") </td>
                                <td> @coder.RegisterDate.ToString("yyyy-MM-dd") </td>
                                <td> @coder.Gender </td>
                                <td>
                                    <form action="@Url.Action("Delete", "CodersAdmin", new { id = coder.CoderId })" method="post" onsubmit="return confirm('Are you sure you want to delete this coder?');">
                                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                    </form>
                                </td>
                            </tr>
                            index++;
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="8" class="text-center">No data available</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<style>
    .table-hover tbody tr:hover {
        background-color: #f5f5f5;
        cursor: pointer;
    }
</style>